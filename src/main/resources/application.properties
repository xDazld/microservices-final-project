# Outgoing Kafka Channels
mp.messaging.outgoing.dns-query-logs.topic=dns-query-logs
mp.messaging.outgoing.dns-query-logs.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.dns-security-alerts.topic=dns-security-alerts
mp.messaging.outgoing.dns-security-alerts.connector=smallrye-kafka
mp.messaging.outgoing.dns-security-alerts.value.serializer=org.apache.kafka.common.serialization.StringSerializer
# Incoming Kafka Channels (for bidirectional event streaming)
mp.messaging.incoming.dns-query-logs-in.connector=smallrye-kafka
mp.messaging.incoming.dns-query-logs-in.topic=dns-query-logs
mp.messaging.incoming.dns-query-logs-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.dns-query-logs-in.group.id=dns-analytics-consumer
mp.messaging.incoming.dns-security-alerts-in.connector=smallrye-kafka
mp.messaging.incoming.dns-security-alerts-in.topic=dns-security-alerts
mp.messaging.incoming.dns-security-alerts-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.dns-security-alerts-in.group.id=dns-security-consumer
mp.messaging.incoming.threat-intelligence-updates.connector=smallrye-kafka
mp.messaging.incoming.threat-intelligence-updates.topic=threat-intelligence
mp.messaging.incoming.threat-intelligence-updates.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.threat-intelligence-updates.group.id=dns-threat-intel-consumer
# Legacy messaging configuration (keeping for compatibility)
mp.messaging.incoming.words-in.auto.offset.reset=earliest
mp.messaging.incoming.words-in.topic=words
mp.messaging.outgoing.words-out.topic=words

quarkus.datasource.db-kind=mariadb
quarkus.http.port=8080
quarkus.micrometer.export.prometheus.path=/metrics
# JWT Configuration
mp.jwt.verify.issuer=https://dns-shield.local
mp.jwt.verify.publickey.location=classpath:keys/publicKey.pem
smallrye.jwt.sign.key.location=classpath:keys/privateKey.pem
quarkus.smallrye-jwt.enabled=true

# Security Configuration
# Use method-level annotations (@PermitAll, @RolesAllowed) for fine-grained control
quarkus.security.jaxrs.deny-unannotated-endpoints=false
# CORS configuration for frontend
quarkus.http.cors=true
quarkus.http.cors.origins=/.*/
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
# LangChain4j / Ollama Configuration
quarkus.langchain4j.ollama.timeout=120s
quarkus.langchain4j.timeout=120s
# RFC 9520 Negative Caching Configuration
# Minimum cache duration for resolution failures (seconds)
# RFC 9520 Section 3.2: "Resolvers MUST cache resolution failures for at least 1 second"
dns.negative-cache.min-duration=1
# Maximum cache duration for resolution failures (seconds)
# RFC 9520 Section 3.2: "resolution failures MUST NOT be cached for longer than 5 minutes"
dns.negative-cache.max-duration=300
# Initial backoff duration for first failure (seconds)
dns.negative-cache.initial-backoff=5
# Maximum number of retry attempts per query
# RFC 9520 Section 3.1: "MUST NOT retry...more than twice (i.e., three queries in total)"
dns.resolver.max-retries=2
# Maximum entries in negative cache to prevent resource exhaustion
# RFC 9520 Section 3.2: "implement measures to mitigate resource exhaustion attacks"
dns.negative-cache.max-entries=10000
